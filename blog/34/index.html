<!doctype html>
<html class="not-ready lg:text-base overflow-y-scroll scroll-pt-14" lang="no">

<head prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#">
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="generator" content="Zola" />
  <title>Uke 34 | DAT156</title>
  <meta property="og:site_name" content="DAT156" />
  <meta property="og:title" content="Uke 34" />
  <meta property="og:url" content="https://simsine.no/dat156/blog/34/" />
  <link rel="canonical" href="https://simsine.no/dat156/blog/34/" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-08-24T00:00:00+00:00" />
  <link rel="alternate" type="application/atom+xml" href="https://simsine.no/dat156/atom.xml" title="DAT156 | Atom" />
  <!-- Begin Head inject -->
  
  <!-- End Head inject -->
  <link rel="stylesheet" href="https://simsine.no/dat156/main.min.css?h=fc65ba308cf36d3ba82c" />
  <style>
  :root{--bg: #f4f4f5; --header: #e4e4e7; color-scheme: light;}
  :root.dark{--bg: #18181b; --header: #27272a; color-scheme: dark;}
  </style>
  <meta name="theme-color" data-light="#e4e4e7" data-dark="#27272a" content="#e4e4e7" />
  <script src="https://simsine.no/dat156/js/linkita.min.js?h=1dd3ed42fc674277bc34"></script>
  <!-- Begin Head End inject -->
  
  <!-- End Head End inject -->
</head>

<body class="text-black duration-100 ease-out bg-[var(--bg)] dark:text-white">
  <!-- Header -->
<header class="bg-[var(--header)] fixed top-0 z-40 mx-auto min-h-[3.25rem] w-full header-icons">
  <div class="mx-auto w-full max-w-4xl p-2.5 lg:flex lg:justify-between">
    <div class="flex justify-between">
      <div class="flex items-center min-h-8">
        <a title="Go to home page" accesskey="!"
          href="https://simsine.no/dat156/" class="text-2xl font-semibold">DAT156</a>
        <button type="button" title="Switch color scheme" accesskey="$"
          onclick="window.linkita.toggleDarkMode();" ondblclick="window.linkita.resetDarkMode();"
          class="btn-dark ml-4 h-6 w-6 shrink-0 cursor-pointer text-[0] bg-center bg-no-repeat bg-cover dark:invert [background-image:var(--icon-theme-dark)] dark:[background-image:var(--icon-theme-light)]"
        ></button>
      </div>
      <div title="Menu" role="button" accesskey="+" tabindex="0"
        class="btn-menu relative z-50 flex h-8 w-8 shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
        onclick="window.linkita.toggleHeaderMenu();"
        onkeydown="(event.keyCode == 13 || event.keyCode == 32) ? event.preventDefault() || window.linkita.toggleHeaderMenu() : true;"
      ></div>
    </div>
    <nav class="flex w-full items-center lg:w-auto">
      <menu
        class="nav-wrapper flex w-full flex-col py-2 lg:w-auto lg:flex-row lg:self-center lg:py-0">
        <li>
          <a
            class="primary-link block py-2 text-center text-lg font-medium lg:px-3 lg:py-0"
            href="https://www.frende.no/"
          >Frende Forsikring</a>
        </li>
        <li>
          <a
            class="primary-link block py-2 text-center text-lg font-medium lg:px-3 lg:py-0"
            href="https://github.com/simsine/dat156"
          >Kildekode</a>
        </li>
      </menu>
      <!-- Begin Header Nav inject -->
      
      <!-- End Header Nav inject -->
    </nav>
  </div>
</header>

  <!-- Begin Body Start inject -->
  
  <!-- End Body Start inject -->
  <main class="prose prose-neutral relative mx-auto min-h-[calc(100%-4rem)]
    max-w-3xl break-words px-4 pb-12 pt-28 lg:pt-32 dark:prose-invert prose-pre:rounded-lg prose-img:rounded-lg">
    
<article>
  <!-- Begin Page Start inject -->
  
  <!-- End Page Start inject -->

  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">Uke 34</h1>
    <!-- Page Info -->
<div class="text-sm antialiased opacity-80"><time
      datetime="2025-08-24T00:00:00+00:00">2025-08-24</time><span
        class="mx-1">&middot;</span><time
    datetime="PT0H4M0S">4&nbsp;min</time>
</div>

  </header>
  <!-- TOC -->
<div class="block-bg mb-12 rounded-lg p-2 text-lg">
  <details>
    <summary class="select-none py-0.5 lg:py-1 pl-4" accesskey="=">
      <span class="cursor-pointer">Table of Contents</span>
    </summary>
    <div class="px-2">
      <ul>
        <li>
          <a class="no-underline hover:underline" href="https://simsine.no/dat156/blog/34/#onsdag-7-5-timer-09-00-16-30">Onsdag - 7.5 timer - 09:00-16:30</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://simsine.no/dat156/blog/34/#start-pa-dagen-og-intro">Start på dagen og intro</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://simsine.no/dat156/blog/34/#lunsj-og-systemknuten-prosjektet">Lunsj og Systemknuten prosjektet</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://simsine.no/dat156/blog/34/#slutt-pa-dagen-og-mote">Slutt på dagen og møte</a>
            </li>
            <li>
              <a class="no-underline hover:underline" href="https://simsine.no/dat156/blog/34/#det-tekniske">Det tekniske</a>
            </li>
          </ul>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://simsine.no/dat156/blog/34/#torsdag-5-5-timer-10-30-16-00">Torsdag - 5.5 timer - 10:30-16:00</a>
          <ul>
            <li>
              <a class="no-underline hover:underline" href="https://simsine.no/dat156/blog/34/#query-params-i-axum">Query params i Axum</a>
            </li>
          </ul>
        </li>
        <li>
          <a class="no-underline hover:underline" href="https://simsine.no/dat156/blog/34/#fredag-4-timer-10-30-14-30">Fredag - 4 timer - 10:30-14:30</a>
        </li>
      </ul>
    </div>
  </details>
</div>

  <!-- Content -->
  <section><blockquote>
<p>Timer  denne uka: 17</p>
<p>Timer totalt: 17</p>
</blockquote>
<h1 id="onsdag-7-5-timer-09-00-16-30">Onsdag - 7.5 timer - 09:00-16:30</h1>
<h2 id="start-pa-dagen-og-intro">Start på dagen og intro</h2>
<p>Startet dagen kl 09:00 og ble tildelt eget nøkkelkort for tilganger i bygget. Jeg fikk så introdusert meg selv til noen av de jeg skal jobbe med. Da jeg startet var det allerede satt opp jobb-laptop med Ubuntu installert, noe som var veldig greit ettersom jeg foretrekker å kjøre linux på mine egne maskiner for utvikling og serverdrift til vanlig. Etter det installerte jeg system-pakker og programmer på maskinen.</p>
<ul>
<li>Cargo - Package manager for programmeringsspråket Rust</li>
<li>git</li>
<li>VSCode</li>
</ul>
<p>Jeg fikk så opprettet brukerkontoer og to-trinns autentisering på de ulike tjenestene jeg skal bruke for kommunikasjon og samarbeid.</p>
<ul>
<li>Epost</li>
<li>Github Enterprise</li>
<li>Slack</li>
<li>TeamCity</li>
<li>Figma</li>
</ul>
<h2 id="lunsj-og-systemknuten-prosjektet">Lunsj og Systemknuten prosjektet</h2>
<p>Kl 11.00 er det lunsj i kantina på avdelingen og mulighet for å snakke med flere på teamet.
Etterpå får jeg mer info om prosjektet Systemknuten som er en side for å gi overblikk over de ulike eksterne og interne tjenestene i Frende. Dette kan være brukerrettede applikasjoner, APIer eller databaser. Behovet for dette prosjektet kommer av krav om at bedriften skal ha en oversikt over den store mengden tjenester de drifter.</p>
<h2 id="slutt-pa-dagen-og-mote">Slutt på dagen og møte</h2>
<p>Mot slutten av dagen ble jeg invitert med på møte om design av Systemknuten applikasjonen. På møtet diskuteres design dokumentet og videre valg av design.</p>
<h2 id="det-tekniske">Det tekniske</h2>
<p>Applikasjonen er skrevet i Rust og bruker web-rammeverket Axum.
Hele siden er generert på server-siden og bruker ingen Javascript på frontenden.
Rust er et ganske spennende programmeringsspråk som i tillegg til å ha en litt uvant syntaks også tvinger deg til å tenke på en ganske annerledes måte enn med for eksempel Java. I tillegg til å være ‘strongly typed’ må man også ta hensyn til levetiden og eierskapet av variabler. Dette er fordi i forhold til Java som bruker en garbage collector for å allokere og frigi minne bruker Rust noe som heter ‘borrow-checking’. Borrow checkeren til Rust passer på at en variabel bare er tilgengelig for riktig eier og at den frigis når den går ut av scope. Dette tvinger deg til å oppgi hvilke funksjoner og scopes som skal ha tilgang til variablene. Rust tvinger deg også til å håndtere alle feiltilfeller som kan oppstå, noe vi vil støte på senere.</p>
<h1 id="torsdag-5-5-timer-10-30-16-00">Torsdag - 5.5 timer - 10:30-16:00</h1>
<h2 id="query-params-i-axum">Query params i Axum</h2>
<p>For å implementere filtreringen på tagger er vi nødt til å sende query parametre for å bestemme hvilke filtre som skal være aktive. Jeg begynner dagen med å se på hvordan man håndterer query parametre i Axum og støter ganske raskt på problemer. Jeg prøver nemlig å hente inn en liste med parametre på den følgende formen.</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>http:localhost/?f=a&amp;f=b
</span></code></pre>
<p>Dette ønsker jeg så å serialisere som en liste med strenger på backenden på den følgende måten.</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">pub struct </span><span>Params {
</span><span>	#serde(rename=&quot;f&quot;)
</span><span>	</span><span style="color:#bf616a;">filter_query</span><span>: Option&lt;Vec&lt;String&gt;&gt;
</span><span>}
</span></code></pre>
<p>I route-handleren vil vi da forvente å kunne extracte disse parametrene med Query-extractoren.</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>async </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">hello_route</span><span>(
</span><span>   Query(</span><span style="color:#bf616a;">params</span><span>): Query&lt;HelloParams&gt;,
</span><span>) -&gt; Response {
</span><span>   dbg!(params.filter_query);
</span><span>   …
</span><span>}
</span></code></pre>
<p>Dette fungerer ikke som forventet i Axum pakken eller 'craten' som det heter i Rust. Hvorfor de ikke støtter det direkte vet jeg ikke, men etter litt søking på nettet finner jeg ut at Axum har en ekstra crate kalt ‘axum-extra’ som inneholder en ‘drop-in-replacement’ Query() extractor funksjon som støtter parsing av lister fra query paramentrene. Jeg bytter derfor importen av Query() til ‘axum-extra’ og det fungerer som forventet.</p>
<h1 id="fredag-4-timer-10-30-14-30">Fredag - 4 timer - 10:30-14:30</h1>
<p>Mesteparten av dagen gikk til å implementere CSS styling for filtrerings knappene. For dette tok jeg inspirasjon fra det interne design dokumentet i Figma, men også fra Frende sitt offentlige designsystem <a href="https://design.frende.no">Frøya</a>. Dette designsystemet inneholder et komponent-bibliotek for vanlige webkomponenter. Jeg tok derfor inspirasjon fra filter button komponenten for bruk i applikasjonen.</p>
<p><img src="https://simsine.no/dat156/blog/34/filter_button_grupper.png" alt="Utdrag av filter button komponenten" /></p>
<p>Gjennom dette fikk jeg også testet ut å bruke en CSS stil som baserer seg på bruk av semantisk styling over bruk av klasser. Dette gjør at man kan skrive ren semantisk HTML uten CSS-klasser i dokumentet.
Jeg fikk også testet ut CSS nesting og nesting selektoren &amp;. Dette er overraskende nok et relativt nytt konsept innen CSS og har bare vært støttet i de fleste nettlesere <a href="https://caniuse.com/css-nesting">siden sent i 2023</a>. Disse to konseptene passer bra sammen og lar oss skrive korte og konsise CSS dokumenter.</p>
<p>Her er et eksempel på hvordan CSS nesting ser ut.</p>
<pre data-lang="css" style="background-color:#2b303b;color:#c0c5ce;" class="language-css "><code class="language-css" data-lang="css"><span style="color:#bf616a;">p </span><span>{
</span><span>  font-family: system-ui;
</span><span>  font-size: </span><span style="color:#d08770;">1.2rem</span><span>;
</span><span>  &amp; &gt; a {
</span><span>    color: tomato;
</span><span>    &amp;:hover,
</span><span>    &amp;:focus {
</span><span>      color: ivory;
</span><span>      background-color: tomato;
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre>
</section>
  <hr />
  <!-- Post Taxonomies -->

  <!-- Post Nav -->
<nav class="block-bg mt-12 flex flex-wrap rounded-lg text-lg">
  <a
    class="block-hover-mask flex min-w-[50%] grow items-center rounded-l-md p-6 pr-3 font-semibold no-underline"
    href="https://simsine.no/dat156/forord/" accesskey=","
    ><span class="mr-1.5">&#8249;</span><span>Forord</span></a>
  <a
    class="block-hover-mask ml-auto flex min-w-[50%] grow items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline"
    href="https://simsine.no/dat156/blog/35/" accesskey="."
    ><span>Uke 35</span><span class="ml-1.5">&#8250;</span></a>
</nav>

  <!-- Begin Page End inject -->
  
  <!-- End Page End inject -->
</article>

  </main>
  <!-- Footer -->
<footer class="mx-auto flex lg:mt-5 max-w-3xl flex-wrap items-center px-4 py-3 text-sm opacity-60">
  <div class="mr-auto basis-full lg:basis-1/2">
  © <time datetime="2025">2025</time> Simen Strømsnes
  </div>
  <div class="flex basis-full lg:basis-1/2 lg:justify-end">
    <span class="mr-6 lg:ml-6">
      <a class="link" href="https://www.getzola.org/" target="_blank">Powered by Zola</a>
    </span>
    <a class="link" href="https://www.getzola.org/themes/linkita/" target="_blank">&#9998; Linkita</a>
  </div>
  <!-- Begin Footer inject -->
  
  <!-- End Footer inject -->
</footer>

  

  <!-- Begin Body End inject -->
  
  <!-- End Body End inject -->
</body>

</html>
